<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API æµ‹è¯•å·¥å…·</title>
    <!-- å¼•å…¥marked.jsç”¨äºMarkdownè§£æ -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f7fa;
            min-height: 100vh;
            overflow: hidden;
        }

        .container {
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            z-index: 100;
        }

        .header h1 {
            font-size: 1.8em;
            margin-bottom: 5px;
            font-weight: 600;
        }

        .header p {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .main-content {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        /* å·¦ä¾§APIåˆ—è¡¨ */
        .api-sidebar {
            width: 450px;
            background: white;
            border-right: 1px solid #e9ecef;
            overflow-y: auto;
            flex-shrink: 0;
        }

        .api-category {
            border-bottom: 1px solid #e9ecef;
        }

        .category-header {
            background: #f8f9fa;
            padding: 15px 20px;
            font-weight: 600;
            color: #495057;
            border-bottom: 1px solid #e9ecef;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: background-color 0.2s;
        }

        .category-header:hover {
            background: #e9ecef;
        }

        .category-header.active {
            background: #007bff;
            color: white;
        }

        .category-icon {
            font-size: 1.2em;
            margin-right: 10px;
        }

        .collapse-icon {
            transition: transform 0.3s;
        }

        .collapse-icon.collapsed {
            transform: rotate(-90deg);
        }

        .api-list {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .api-list.show {
            max-height: 1000px;
        }

        .api-item {
            padding: 12px 20px;
            border-bottom: 1px solid #f1f3f4;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .api-item:hover {
            background: #f8f9fa;
            padding-left: 25px;
        }

        .api-item.active {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            color: #1976d2;
        }

        .method-badge {
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 0.7em;
            font-weight: bold;
            min-width: 40px;
            text-align: center;
        }

        .method-get {
            background: #4caf50;
            color: white;
        }

        .method-post {
            background: #ff9800;
            color: white;
        }

        .method-delete {
            background: #f44336;
            color: white;
        }

        .api-name {
            font-size: 0.9em;
            font-weight: 500;
        }

        /* å³ä¾§æµ‹è¯•åŒºåŸŸ */
        .test-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: white;
        }

        .test-header {
            padding: 20px;
            border-bottom: 1px solid #e9ecef;
            background: #fafbfc;
        }

        .test-title {
            font-size: 1.4em;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .test-description {
            color: #6c757d;
            font-size: 0.95em;
        }

        .test-body {
            flex: 1;
            display: flex;
            overflow: hidden;
        }

        .params-section {
            width: 350px;
            padding: 20px;
            border-right: 1px solid #e9ecef;
            overflow-y: auto;
            background: #fafbfc;
        }

        .params-title {
            font-weight: 600;
            margin-bottom: 15px;
            color: #495057;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #495057;
            font-size: 0.9em;
        }

        .input-group input,
        .input-group select,
        .input-group textarea {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            font-size: 13px;
            transition: border-color 0.2s;
        }

        .input-group input:focus,
        .input-group select:focus,
        .input-group textarea:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
        }

        .input-group textarea {
            resize: vertical;
            min-height: 60px;
        }

        .test-btn {
            background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
            width: 100%;
            margin-top: 10px;
        }

        .test-btn:hover:not(:disabled) {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 123, 255, 0.3);
        }

        .test-btn:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .results-section {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .results-title {
            font-weight: 600;
            margin-bottom: 15px;
            color: #495057;
        }

        .response-container {
            background: #f8f9fa;
            border-radius: 6px;
            overflow: hidden;
            border: 1px solid #dee2e6;
            margin-bottom: 15px;
        }

        .response-header {
            background: #e9ecef;
            padding: 12px 15px;
            font-weight: 600;
            color: #495057;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .response-body {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            font-family: 'JetBrains Mono', 'Fira Code', 'Courier New', monospace;
            font-size: 13px;
            white-space: pre-wrap;
            max-height: 500px;
            overflow-y: auto;
            line-height: 1.5;
        }

        /* å“åº”åˆ†ç¦»å±•ç¤ºæ ·å¼ */
        .response-section {
            margin-bottom: 15px;
        }

        .response-section h4 {
            margin: 0 0 10px 0;
            padding: 8px 12px;
            background: #e9ecef;
            border-radius: 4px 4px 0 0;
            font-size: 14px;
            font-weight: 600;
            color: #495057;
        }

        .response-content {
            padding: 15px;
            border: 1px solid #dee2e6;
            border-top: none;
            border-radius: 0 0 4px 4px;
            background: white;
        }

        .response-content.url {
            background: #f8f9fa;
            font-family: 'JetBrains Mono', 'Fira Code', 'Courier New', monospace;
            color: #0366d6;
            word-break: break-all;
            font-size: 13px;
        }

        .response-content.json {
            background: #2d3748;
            color: #e2e8f0;
            font-family: 'JetBrains Mono', 'Fira Code', 'Courier New', monospace;
            font-size: 13px;
            white-space: pre-wrap;
        }

        .response-content.markdown {
            background: white;
            color: #333;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
        }

        /* Markdownæ ·å¼ */
        .markdown-content h1,
        .markdown-content h2,
        .markdown-content h3,
        .markdown-content h4,
        .markdown-content h5,
        .markdown-content h6 {
            margin: 20px 0 10px 0;
            font-weight: 600;
            line-height: 1.25;
        }

        .markdown-content h1 {
            font-size: 2em;
            border-bottom: 1px solid #eaecef;
            padding-bottom: 0.3em;
        }

        .markdown-content h2 {
            font-size: 1.5em;
            border-bottom: 1px solid #eaecef;
            padding-bottom: 0.3em;
        }

        .markdown-content h3 {
            font-size: 1.25em;
        }

        .markdown-content h4 {
            font-size: 1em;
        }

        .markdown-content h5 {
            font-size: 0.875em;
        }

        .markdown-content h6 {
            font-size: 0.85em;
            color: #6a737d;
        }

        .markdown-content p {
            margin: 0 0 16px 0;
        }

        .markdown-content ul,
        .markdown-content ol {
            margin: 0 0 16px 0;
            padding-left: 2em;
        }

        .markdown-content li {
            margin: 0.25em 0;
        }

        .markdown-content table {
            border-collapse: collapse;
            width: 100%;
            margin: 16px 0;
        }

        .markdown-content th,
        .markdown-content td {
            border: 1px solid #dfe2e5;
            padding: 6px 13px;
            text-align: left;
        }

        .markdown-content th {
            background: #f6f8fa;
            font-weight: 600;
        }

        .markdown-content code {
            background: #f6f8fa;
            padding: 0.2em 0.4em;
            border-radius: 3px;
            font-family: 'JetBrains Mono', 'Fira Code', 'Courier New', monospace;
            font-size: 85%;
        }

        .markdown-content pre {
            background: #f6f8fa;
            padding: 16px;
            border-radius: 6px;
            overflow-x: auto;
            margin: 16px 0;
        }

        .markdown-content pre code {
            background: none;
            padding: 0;
        }

        .markdown-content blockquote {
            border-left: 4px solid #dfe2e5;
            padding: 0 1em;
            margin: 16px 0;
            color: #6a737d;
        }

        .status-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-badge.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .status-badge.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .loading {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid #f3f3f3;
            border-top: 2px solid #007bff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 8px;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .status-success {
            color: #28a745;
            font-weight: 600;
        }

        .status-error {
            color: #dc3545;
            font-weight: 600;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #6c757d;
        }

        .empty-state h3 {
            margin-bottom: 10px;
            color: #495057;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }

            .api-sidebar {
                width: 100%;
                height: 300px;
            }

            .test-body {
                flex-direction: column;
            }

            .params-section {
                width: 100%;
                border-right: none;
                border-bottom: 1px solid #e9ecef;
            }
        }

        /* JSONè¯­æ³•é«˜äº® */
        .json-key {
            color: #79b8ff;
        }

        .json-string {
            color: #88c999;
        }

        .json-number {
            color: #ffab70;
        }

        .json-boolean {
            color: #ff7b7b;
        }

        .json-null {
            color: #969696;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>ğŸš€ API æµ‹è¯•å·¥å…·</h1>
            <p>æµ‹è¯•æ‰€æœ‰å¯ç”¨çš„ API ç«¯ç‚¹</p>
        </div>

        <div class="main-content">
            <!-- å·¦ä¾§APIåˆ—è¡¨ -->
            <div class="api-sidebar">
                <!-- è‚¡ç¥¨ç›¸å…³API -->
                <div class="api-category">
                    <div class="category-header" onclick="toggleCategory('stock')">
                        <div>
                            <span class="category-icon">ğŸ“ˆ</span>
                            è‚¡ç¥¨ç›¸å…³ API
                        </div>
                        <span class="collapse-icon">â–¼</span>
                    </div>
                    <div class="api-list show" id="stock-apis">
                        <div class="api-item" onclick="selectAPI('stock-quote')">
                            <span class="method-badge method-get">GET</span>
                            <span class="api-name">è·å–è‚¡ç¥¨è¡Œæƒ…</span>
                        </div>
                        <div class="api-item" onclick="selectAPI('stock-quotes')">
                            <span class="method-badge method-post">POST</span>
                            <span class="api-name">æ‰¹é‡è·å–è¡Œæƒ…</span>
                        </div>
                        <div class="api-item" onclick="selectAPI('stock-price')">
                            <span class="method-badge method-get">GET</span>
                            <span class="api-name">è‚¡ç¥¨ä»·æ ¼æ•°æ®</span>
                        </div>
                        <div class="api-item" onclick="selectAPI('stock-fundamental')">
                            <span class="method-badge method-get">GET</span>
                            <span class="api-name">åŸºæœ¬é¢åˆ†æ</span>
                        </div>
                        <div class="api-item" onclick="selectAPI('stock-news')">
                            <span class="method-badge method-get">GET</span>
                            <span class="api-name">è‚¡ç¥¨æ–°é—»</span>
                        </div>
                    </div>
                </div>

                <!-- å®è§‚æ•°æ®API -->
                <div class="api-category">
                    <div class="category-header" onclick="toggleCategory('macro')">
                        <div>
                            <span class="category-icon">ğŸ“Š</span>
                            å®è§‚æ•°æ® API
                        </div>
                        <span class="collapse-icon">â–¼</span>
                    </div>
                    <div class="api-list show" id="macro-apis">
                        <div class="api-item" onclick="selectAPI('macro-dashboard')">
                            <span class="method-badge method-get">GET</span>
                            <span class="api-name">æ™ºèƒ½å®è§‚æ•°æ®ä»ªè¡¨æ¿</span>
                        </div>
                        <div class="api-item" onclick="selectAPI('macro-latest')">
                            <span class="method-badge method-get">GET</span>
                            <span class="api-name">æœ€æ–°å®è§‚æ•°æ®</span>
                        </div>
                        <div class="api-item" onclick="selectAPI('macro-gdp')">
                            <span class="method-badge method-get">GET</span>
                            <span class="api-name">GDPæ•°æ®</span>
                        </div>
                        <div class="api-item" onclick="selectAPI('macro-cpi')">
                            <span class="method-badge method-get">GET</span>
                            <span class="api-name">CPIæ•°æ®</span>
                        </div>
                        <div class="api-item" onclick="selectAPI('macro-ppi')">
                            <span class="method-badge method-get">GET</span>
                            <span class="api-name">PPIæ•°æ®</span>
                        </div>
                        <div class="api-item" onclick="selectAPI('macro-pmi')">
                            <span class="method-badge method-get">GET</span>
                            <span class="api-name">PMIæ•°æ®</span>
                        </div>
                    </div>
                </div>

                <!-- äº¤æ˜“æ—¥å†API -->
                <div class="api-category">
                    <div class="category-header" onclick="toggleCategory('calendar')">
                        <div>
                            <span class="category-icon">ğŸ“…</span>
                            äº¤æ˜“æ—¥å† API
                        </div>
                        <span class="collapse-icon">â–¼</span>
                    </div>
                    <div class="api-list show" id="calendar-apis">
                        <div class="api-item" onclick="selectAPI('calendar-trading-days')">
                            <span class="method-badge method-get">GET</span>
                            <span class="api-name">è·å–äº¤æ˜“æ—¥</span>
                        </div>
                        <div class="api-item" onclick="selectAPI('calendar-is-trading-day')">
                            <span class="method-badge method-get">GET</span>
                            <span class="api-name">æ£€æŸ¥äº¤æ˜“æ—¥</span>
                        </div>
                        <div class="api-item" onclick="selectAPI('calendar-supported-exchanges')">
                            <span class="method-badge method-get">GET</span>
                            <span class="api-name">æ”¯æŒçš„äº¤æ˜“æ‰€</span>
                        </div>
                    </div>
                </div>

                <!-- ç³»ç»Ÿç®¡ç†API -->
                <div class="api-category">
                    <div class="category-header" onclick="toggleCategory('system')">
                        <div>
                            <span class="category-icon">âš™ï¸</span>
                            ç³»ç»Ÿç®¡ç† API
                        </div>
                        <span class="collapse-icon">â–¼</span>
                    </div>
                    <div class="api-list show" id="system-apis">
                        <div class="api-item" onclick="selectAPI('macro-health')">
                            <span class="method-badge method-get">GET</span>
                            <span class="api-name">ç³»ç»Ÿå¥åº·çŠ¶æ€</span>
                        </div>
                        <div class="api-item" onclick="selectAPI('macro-sync-status')">
                            <span class="method-badge method-get">GET</span>
                            <span class="api-name">åŒæ­¥çŠ¶æ€</span>
                        </div>
                        <div class="api-item" onclick="selectAPI('macro-sync')">
                            <span class="method-badge method-post">POST</span>
                            <span class="api-name">è§¦å‘åŒæ­¥</span>
                        </div>
                        <div class="api-item" onclick="selectAPI('macro-cache-stats')">
                            <span class="method-badge method-get">GET</span>
                            <span class="api-name">ç¼“å­˜ç»Ÿè®¡</span>
                        </div>
                        <div class="api-item" onclick="selectAPI('macro-clear-cache')">
                            <span class="method-badge method-delete">DELETE</span>
                            <span class="api-name">æ¸…é™¤ç¼“å­˜</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- å³ä¾§æµ‹è¯•åŒºåŸŸ -->
            <div class="test-area">
                <div class="test-header">
                    <h2 class="test-title" id="api-title">è¯·é€‰æ‹©ä¸€ä¸ªAPIæ¥å£</h2>
                    <p class="test-description" id="api-description">ä»å·¦ä¾§åˆ—è¡¨ä¸­é€‰æ‹©è¦æµ‹è¯•çš„APIæ¥å£</p>
                </div>

                <div class="test-body">
                    <div class="params-section">
                        <h3 class="params-title">è¯·æ±‚å‚æ•°</h3>
                        <div id="params-container">
                            <div class="empty-state">
                                <h3>æœªé€‰æ‹©æ¥å£</h3>
                                <p>è¯·ä»å·¦ä¾§åˆ—è¡¨é€‰æ‹©è¦æµ‹è¯•çš„APIæ¥å£</p>
                            </div>
                        </div>
                    </div>

                    <div class="results-section">
                        <h3 class="results-title">å“åº”ç»“æœ</h3>
                        <div id="results-container">
                            <div class="empty-state">
                                <h3>ç­‰å¾…æµ‹è¯•</h3>
                                <p>é€‰æ‹©æ¥å£å¹¶å¡«å†™å‚æ•°åç‚¹å‡»æµ‹è¯•æŒ‰é’®</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- è‚¡ç¥¨ç›¸å…³API -->
    <div class="api-section">
        <h3 class="section-title">ğŸ“ˆ è‚¡ç¥¨ç›¸å…³ API</h3>

        <div class="api-item">
            <div class="api-title">
                <span class="method-badge method-get">GET</span>
                è·å–è‚¡ç¥¨è¡Œæƒ…
            </div>
            <div class="api-description">è·å–è‚¡ç¥¨çš„å®æ—¶æˆ–è¿‘å®æ—¶è¡Œæƒ…æ•°æ®</div>
            <div class="input-group">
                <label>è‚¡ç¥¨ä»£ç :</label>
                <input type="text" id="stock-quote-symbol" placeholder="ä¾‹: 000001, AAPL, 00700" value="000001">
            </div>
            <button class="btn" onclick="testAPI('stock-quote')">æµ‹è¯•æ¥å£</button>
            <div class="response-container" id="stock-quote-response"></div>
        </div>

        <div class="api-item">
            <div class="api-title">
                <span class="method-badge method-post">POST</span>
                æ‰¹é‡è·å–è¡Œæƒ…
            </div>
            <div class="api-description">æ‰¹é‡è·å–å¤šä¸ªè‚¡ç¥¨çš„è¡Œæƒ…æ•°æ®</div>
            <div class="input-group">
                <label>è‚¡ç¥¨ä»£ç åˆ—è¡¨ (JSONæ ¼å¼):</label>
                <textarea id="stock-quotes-symbols"
                    placeholder='{"symbols": ["000001", "000002", "AAPL"]}'>{"symbols": ["000001", "000002"]}</textarea>
            </div>
            <button class="btn" onclick="testAPI('stock-quotes')">æµ‹è¯•æ¥å£</button>
            <div class="response-container" id="stock-quotes-response"></div>
        </div>

        <div class="api-item">
            <div class="api-title">
                <span class="method-badge method-get">GET</span>
                è‚¡ç¥¨ä»·æ ¼æ•°æ®
            </div>
            <div class="api-description">è·å–è‚¡ç¥¨ä»·æ ¼æ•°æ®å’Œåˆ†ææŠ¥å‘Š</div>
            <div class="input-group">
                <label>è‚¡ç¥¨ä»£ç :</label>
                <input type="text" id="stock-price-symbol" placeholder="ä¾‹: 000001" value="000001">
            </div>
            <div class="input-group">
                <label>å¼€å§‹æ—¥æœŸ:</label>
                <input type="date" id="stock-price-start" value="2024-01-01">
            </div>
            <div class="input-group">
                <label>ç»“æŸæ—¥æœŸ:</label>
                <input type="date" id="stock-price-end" value="2024-12-31">
            </div>
            <button class="btn" onclick="testAPI('stock-price')">æµ‹è¯•æ¥å£</button>
            <div class="response-container" id="stock-price-response"></div>
        </div>

        <div class="api-item">
            <div class="api-title">
                <span class="method-badge method-get">GET</span>
                åŸºæœ¬é¢åˆ†æ
            </div>
            <div class="api-description">è·å–è‚¡ç¥¨åŸºæœ¬é¢è´¢åŠ¡æŠ¥å‘Š</div>
            <div class="input-group">
                <label>è‚¡ç¥¨ä»£ç :</label>
                <input type="text" id="stock-fundamental-symbol" placeholder="ä¾‹: 000001" value="000001">
            </div>
            <button class="btn" onclick="testAPI('stock-fundamental')">æµ‹è¯•æ¥å£</button>
            <div class="response-container" id="stock-fundamental-response"></div>
        </div>

        <div class="api-item">
            <div class="api-title">
                <span class="method-badge method-get">GET</span>
                è‚¡ç¥¨æ–°é—»
            </div>
            <div class="api-description">è·å–è‚¡ç¥¨æœ€æ–°æ–°é—»</div>
            <div class="input-group">
                <label>è‚¡ç¥¨ä»£ç :</label>
                <input type="text" id="stock-news-symbol" placeholder="ä¾‹: 000001" value="000001">
            </div>
            <div class="input-group">
                <label>æŸ¥è¯¢å¤©æ•°:</label>
                <input type="number" id="stock-news-days" value="30" min="1" max="90">
            </div>
            <button class="btn" onclick="testAPI('stock-news')">æµ‹è¯•æ¥å£</button>
            <div class="response-container" id="stock-news-response"></div>
        </div>
    </div>

    <!-- å®è§‚æ•°æ®API -->
    <div class="api-section">
        <h3 class="section-title">ğŸ“Š å®è§‚æ•°æ® API</h3>

        <div class="api-item">
            <div class="api-title">
                <span class="method-badge method-get">GET</span>
                æ™ºèƒ½å®è§‚æ•°æ®ä»ªè¡¨æ¿
            </div>
            <div class="api-description">è·å–æ‰€æœ‰ä¸»è¦å®è§‚æŒ‡æ ‡çš„æœ€ä½³æœŸæ•°æ•°æ®</div>
            <button class="btn" onclick="testAPI('macro-dashboard')">æµ‹è¯•æ¥å£</button>
            <div class="response-container" id="macro-dashboard-response"></div>
        </div>

        <div class="api-item">
            <div class="api-title">
                <span class="method-badge method-get">GET</span>
                æœ€æ–°å®è§‚æ•°æ®
            </div>
            <div class="api-description">è·å–æ‰€æœ‰å®è§‚æŒ‡æ ‡çš„æœ€æ–°æ•°æ®</div>
            <div class="input-group">
                <label>æœŸæ•°:</label>
                <input type="number" id="macro-latest-periods" value="1" min="1" max="50">
            </div>
            <button class="btn" onclick="testAPI('macro-latest')">æµ‹è¯•æ¥å£</button>
            <div class="response-container" id="macro-latest-response"></div>
        </div>

        <div class="api-item">
            <div class="api-title">
                <span class="method-badge method-get">GET</span>
                GDPæ•°æ®
            </div>
            <div class="api-description">è·å–GDPæ•°æ®</div>
            <div class="input-group">
                <label>æœŸæ•°:</label>
                <input type="number" id="macro-gdp-periods" value="4" min="1" max="20">
            </div>
            <button class="btn" onclick="testAPI('macro-gdp')">æµ‹è¯•æ¥å£</button>
            <div class="response-container" id="macro-gdp-response"></div>
        </div>

        <div class="api-item">
            <div class="api-title">
                <span class="method-badge method-get">GET</span>
                CPIæ•°æ®
            </div>
            <div class="api-description">è·å–CPIæ•°æ®</div>
            <div class="input-group">
                <label>æœŸæ•°:</label>
                <input type="number" id="macro-cpi-periods" value="12" min="1" max="50">
            </div>
            <button class="btn" onclick="testAPI('macro-cpi')">æµ‹è¯•æ¥å£</button>
            <div class="response-container" id="macro-cpi-response"></div>
        </div>

        <div class="api-item">
            <div class="api-title">
                <span class="method-badge method-get">GET</span>
                PPIæ•°æ®
            </div>
            <div class="api-description">è·å–PPIæ•°æ®</div>
            <div class="input-group">
                <label>æœŸæ•°:</label>
                <input type="number" id="macro-ppi-periods" value="12" min="1" max="50">
            </div>
            <button class="btn" onclick="testAPI('macro-ppi')">æµ‹è¯•æ¥å£</button>
            <div class="response-container" id="macro-ppi-response"></div>
        </div>

        <div class="api-item">
            <div class="api-title">
                <span class="method-badge method-get">GET</span>
                PMIæ•°æ®
            </div>
            <div class="api-description">è·å–PMIæ•°æ®</div>
            <div class="input-group">
                <label>æœŸæ•°:</label>
                <input type="number" id="macro-pmi-periods" value="12" min="1" max="50">
            </div>
            <button class="btn" onclick="testAPI('macro-pmi')">æµ‹è¯•æ¥å£</button>
            <div class="response-container" id="macro-pmi-response"></div>
        </div>
    </div>

    <!-- äº¤æ˜“æ—¥å†API -->
    <div class="api-section">
        <h3 class="section-title">ğŸ“… äº¤æ˜“æ—¥å† API</h3>

        <div class="api-item">
            <div class="api-title">
                <span class="method-badge method-get">GET</span>
                è·å–äº¤æ˜“æ—¥
            </div>
            <div class="api-description">è·å–æŒ‡å®šè‚¡ç¥¨çš„äº¤æ˜“æ—¥åˆ—è¡¨</div>
            <div class="input-group">
                <label>è‚¡ç¥¨ä»£ç :</label>
                <input type="text" id="calendar-trading-days-symbol" placeholder="ä¾‹: 000001" value="000001">
            </div>
            <div class="input-group">
                <label>å¼€å§‹æ—¥æœŸ:</label>
                <input type="date" id="calendar-trading-days-start" value="2024-01-01">
            </div>
            <div class="input-group">
                <label>ç»“æŸæ—¥æœŸ:</label>
                <input type="date" id="calendar-trading-days-end" value="2024-01-31">
            </div>
            <button class="btn" onclick="testAPI('calendar-trading-days')">æµ‹è¯•æ¥å£</button>
            <div class="response-container" id="calendar-trading-days-response"></div>
        </div>

        <div class="api-item">
            <div class="api-title">
                <span class="method-badge method-get">GET</span>
                æ£€æŸ¥äº¤æ˜“æ—¥
            </div>
            <div class="api-description">æ£€æŸ¥æŒ‡å®šæ—¥æœŸæ˜¯å¦ä¸ºäº¤æ˜“æ—¥</div>
            <div class="input-group">
                <label>è‚¡ç¥¨ä»£ç :</label>
                <input type="text" id="calendar-is-trading-day-symbol" placeholder="ä¾‹: 000001" value="000001">
            </div>
            <div class="input-group">
                <label>æ£€æŸ¥æ—¥æœŸ:</label>
                <input type="date" id="calendar-is-trading-day-date" value="2024-01-15">
            </div>
            <button class="btn" onclick="testAPI('calendar-is-trading-day')">æµ‹è¯•æ¥å£</button>
            <div class="response-container" id="calendar-is-trading-day-response"></div>
        </div>

        <div class="api-item">
            <div class="api-title">
                <span class="method-badge method-get">GET</span>
                æ”¯æŒçš„äº¤æ˜“æ‰€
            </div>
            <div class="api-description">è·å–æ”¯æŒçš„äº¤æ˜“æ‰€åˆ—è¡¨</div>
            <button class="btn" onclick="testAPI('calendar-supported-exchanges')">æµ‹è¯•æ¥å£</button>
            <div class="response-container" id="calendar-supported-exchanges-response"></div>
        </div>
    </div>

    <!-- ç³»ç»Ÿç®¡ç†API -->
    <div class="api-section">
        <h3 class="section-title">âš™ï¸ ç³»ç»Ÿç®¡ç† API</h3>

        <div class="api-item">
            <div class="api-title">
                <span class="method-badge method-get">GET</span>
                ç³»ç»Ÿå¥åº·çŠ¶æ€
            </div>
            <div class="api-description">è·å–å®è§‚æ•°æ®æœåŠ¡å¥åº·çŠ¶æ€</div>
            <button class="btn" onclick="testAPI('macro-health')">æµ‹è¯•æ¥å£</button>
            <div class="response-container" id="macro-health-response"></div>
        </div>

        <div class="api-item">
            <div class="api-title">
                <span class="method-badge method-get">GET</span>
                åŒæ­¥çŠ¶æ€
            </div>
            <div class="api-description">è·å–å®è§‚æ•°æ®åŒæ­¥çŠ¶æ€</div>
            <button class="btn" onclick="testAPI('macro-sync-status')">æµ‹è¯•æ¥å£</button>
            <div class="response-container" id="macro-sync-status-response"></div>
        </div>

        <div class="api-item">
            <div class="api-title">
                <span class="method-badge method-post">POST</span>
                è§¦å‘åŒæ­¥
            </div>
            <div class="api-description">æ‰‹åŠ¨è§¦å‘å®è§‚æ•°æ®åŒæ­¥</div>
            <div class="input-group">
                <label>æŒ‡æ ‡åç§° (å¯é€‰):</label>
                <select id="macro-sync-indicator">
                    <option value="">å…¨éƒ¨æŒ‡æ ‡</option>
                    <option value="gdp">GDP</option>
                    <option value="cpi">CPI</option>
                    <option value="ppi">PPI</option>
                    <option value="pmi">PMI</option>
                    <option value="money_supply">è´§å¸ä¾›åº”é‡</option>
                    <option value="social_financing">ç¤¾ä¼šèèµ„</option>
                    <option value="lpr">LPR</option>
                </select>
            </div>
            <div class="input-group">
                <label>
                    <input type="checkbox" id="macro-sync-force"> å¼ºåˆ¶åŒæ­¥
                </label>
            </div>
            <button class="btn" onclick="testAPI('macro-sync')">æµ‹è¯•æ¥å£</button>
            <div class="response-container" id="macro-sync-response"></div>
        </div>

        <div class="api-item">
            <div class="api-title">
                <span class="method-badge method-get">GET</span>
                ç¼“å­˜ç»Ÿè®¡
            </div>
            <div class="api-description">è·å–å®è§‚æ•°æ®ç¼“å­˜ç»Ÿè®¡ä¿¡æ¯</div>
            <button class="btn" onclick="testAPI('macro-cache-stats')">æµ‹è¯•æ¥å£</button>
            <div class="response-container" id="macro-cache-stats-response"></div>
        </div>

        <div class="api-item">
            <div class="api-title">
                <span class="method-badge method-delete">DELETE</span>
                æ¸…é™¤ç¼“å­˜
            </div>
            <div class="api-description">æ¸…é™¤å®è§‚æ•°æ®ç¼“å­˜</div>
            <div class="input-group">
                <label>æŒ‡æ ‡åç§° (å¯é€‰):</label>
                <select id="macro-clear-cache-indicator">
                    <option value="">å…¨éƒ¨ç¼“å­˜</option>
                    <option value="gdp">GDP</option>
                    <option value="cpi">CPI</option>
                    <option value="ppi">PPI</option>
                    <option value="pmi">PMI</option>
                    <option value="money_supply">è´§å¸ä¾›åº”é‡</option>
                    <option value="social_financing">ç¤¾ä¼šèèµ„</option>
                    <option value="lpr">LPR</option>
                </select>
            </div>
            <button class="btn" onclick="testAPI('macro-clear-cache')">æµ‹è¯•æ¥å£</button>
            <div class="response-container" id="macro-clear-cache-response"></div>
        </div>
    </div>
    </div>
    </div>
    </div>

    <script>
        // åŠ¨æ€è·å–å½“å‰æœåŠ¡å™¨URL
        const SERVER_URL = `${window.location.protocol}//${window.location.host}`;

        // APIé…ç½®
        const API_CONFIG = {
            'stock-quote': {
                title: 'è·å–è‚¡ç¥¨è¡Œæƒ…',
                description: 'è·å–è‚¡ç¥¨çš„å®æ—¶æˆ–è¿‘å®æ—¶è¡Œæƒ…æ•°æ®',
                method: 'GET',
                url: '/api/stock/quote',
                params: [
                    { name: 'symbol', label: 'è‚¡ç¥¨ä»£ç ', type: 'text', required: true, placeholder: 'ä¾‹: 000001, AAPL', value: '000001' }
                ]
            },
            'stock-quotes': {
                title: 'æ‰¹é‡è·å–è¡Œæƒ…',
                description: 'æ‰¹é‡è·å–å¤šä¸ªè‚¡ç¥¨çš„è¡Œæƒ…æ•°æ®',
                method: 'POST',
                url: '/api/stock/quotes',
                params: [
                    { name: 'symbols', label: 'è‚¡ç¥¨ä»£ç åˆ—è¡¨', type: 'json', required: true, placeholder: '["000001", "000002"]', value: '["000001", "000002"]' }
                ]
            },
            'stock-price': {
                title: 'è‚¡ç¥¨ä»·æ ¼æ•°æ®',
                description: 'è·å–è‚¡ç¥¨ä»·æ ¼æ•°æ®å’Œåˆ†ææŠ¥å‘Š',
                method: 'GET',
                url: '/api/stock/price',
                params: [
                    { name: 'symbol', label: 'è‚¡ç¥¨ä»£ç ', type: 'text', required: true, placeholder: 'ä¾‹: 000001', value: '000001' },
                    { name: 'start_date', label: 'å¼€å§‹æ—¥æœŸ', type: 'date', required: true, value: '2024-01-01' },
                    { name: 'end_date', label: 'ç»“æŸæ—¥æœŸ', type: 'date', required: true, value: '2024-12-31' }
                ]
            },
            'stock-fundamental': {
                title: 'åŸºæœ¬é¢åˆ†æ',
                description: 'è·å–è‚¡ç¥¨åŸºæœ¬é¢è´¢åŠ¡æŠ¥å‘Š',
                method: 'GET',
                url: '/api/stock/fundamental',
                params: [
                    { name: 'symbol', label: 'è‚¡ç¥¨ä»£ç ', type: 'text', required: true, placeholder: 'ä¾‹: 000001', value: '000001' }
                ]
            },
            'stock-news': {
                title: 'è‚¡ç¥¨æ–°é—»',
                description: 'è·å–è‚¡ç¥¨æœ€æ–°æ–°é—»',
                method: 'GET',
                url: '/api/stock/news',
                params: [
                    { name: 'symbol', label: 'è‚¡ç¥¨ä»£ç ', type: 'text', required: true, placeholder: 'ä¾‹: 000001', value: '000001' },
                    { name: 'days_back', label: 'æŸ¥è¯¢å¤©æ•°', type: 'number', required: false, value: '30' }
                ]
            },
            'macro-dashboard': {
                title: 'æ™ºèƒ½å®è§‚æ•°æ®ä»ªè¡¨æ¿',
                description: 'è·å–æ‰€æœ‰ä¸»è¦å®è§‚æŒ‡æ ‡çš„æœ€ä½³æœŸæ•°æ•°æ®',
                method: 'GET',
                url: '/api/macro/smart-dashboard',
                params: []
            },
            'macro-latest': {
                title: 'æœ€æ–°å®è§‚æ•°æ®',
                description: 'è·å–æ‰€æœ‰å®è§‚æŒ‡æ ‡çš„æœ€æ–°æ•°æ®',
                method: 'GET',
                url: '/api/macro/latest',
                params: [
                    { name: 'periods', label: 'æœŸæ•°', type: 'number', required: false, value: '1' }
                ]
            },
            'macro-gdp': {
                title: 'GDPæ•°æ®',
                description: 'è·å–GDPæ•°æ®',
                method: 'GET',
                url: '/api/macro/gdp',
                params: [
                    { name: 'periods', label: 'æœŸæ•°', type: 'number', required: false, value: '4' }
                ]
            },
            'macro-cpi': {
                title: 'CPIæ•°æ®',
                description: 'è·å–CPIæ•°æ®',
                method: 'GET',
                url: '/api/macro/cpi',
                params: [
                    { name: 'periods', label: 'æœŸæ•°', type: 'number', required: false, value: '12' }
                ]
            },
            'macro-ppi': {
                title: 'PPIæ•°æ®',
                description: 'è·å–PPIæ•°æ®',
                method: 'GET',
                url: '/api/macro/ppi',
                params: [
                    { name: 'periods', label: 'æœŸæ•°', type: 'number', required: false, value: '12' }
                ]
            },
            'macro-pmi': {
                title: 'PMIæ•°æ®',
                description: 'è·å–PMIæ•°æ®',
                method: 'GET',
                url: '/api/macro/pmi',
                params: [
                    { name: 'periods', label: 'æœŸæ•°', type: 'number', required: false, value: '12' }
                ]
            },
            'calendar-trading-days': {
                title: 'è·å–äº¤æ˜“æ—¥',
                description: 'è·å–æŒ‡å®šè‚¡ç¥¨çš„äº¤æ˜“æ—¥åˆ—è¡¨',
                method: 'GET',
                url: '/api/calendar/trading-days',
                params: [
                    { name: 'symbol', label: 'è‚¡ç¥¨ä»£ç ', type: 'text', required: true, placeholder: 'ä¾‹: 000001', value: '000001' },
                    { name: 'start_date', label: 'å¼€å§‹æ—¥æœŸ', type: 'date', required: true, value: '2024-01-01' },
                    { name: 'end_date', label: 'ç»“æŸæ—¥æœŸ', type: 'date', required: true, value: '2024-01-31' }
                ]
            },
            'calendar-is-trading-day': {
                title: 'æ£€æŸ¥äº¤æ˜“æ—¥',
                description: 'æ£€æŸ¥æŒ‡å®šæ—¥æœŸæ˜¯å¦ä¸ºäº¤æ˜“æ—¥',
                method: 'GET',
                url: '/api/calendar/is-trading-day',
                params: [
                    { name: 'symbol', label: 'è‚¡ç¥¨ä»£ç ', type: 'text', required: true, placeholder: 'ä¾‹: 000001', value: '000001' },
                    { name: 'check_date', label: 'æ£€æŸ¥æ—¥æœŸ', type: 'date', required: true, value: '2024-01-15' }
                ]
            },
            'calendar-supported-exchanges': {
                title: 'æ”¯æŒçš„äº¤æ˜“æ‰€',
                description: 'è·å–æ”¯æŒçš„äº¤æ˜“æ‰€åˆ—è¡¨',
                method: 'GET',
                url: '/api/calendar/supported-exchanges',
                params: []
            },
            'macro-health': {
                title: 'ç³»ç»Ÿå¥åº·çŠ¶æ€',
                description: 'è·å–å®è§‚æ•°æ®æœåŠ¡å¥åº·çŠ¶æ€',
                method: 'GET',
                url: '/api/macro/health',
                params: []
            },
            'macro-sync-status': {
                title: 'åŒæ­¥çŠ¶æ€',
                description: 'è·å–å®è§‚æ•°æ®åŒæ­¥çŠ¶æ€',
                method: 'GET',
                url: '/api/macro/sync/status',
                params: []
            },
            'macro-sync': {
                title: 'è§¦å‘åŒæ­¥',
                description: 'æ‰‹åŠ¨è§¦å‘å®è§‚æ•°æ®åŒæ­¥',
                method: 'POST',
                url: '/api/macro/sync',
                params: [
                    {
                        name: 'indicator', label: 'æŒ‡æ ‡åç§°', type: 'select', required: false, options: [
                            { value: '', label: 'å…¨éƒ¨æŒ‡æ ‡' },
                            { value: 'gdp', label: 'GDP' },
                            { value: 'cpi', label: 'CPI' },
                            { value: 'ppi', label: 'PPI' },
                            { value: 'pmi', label: 'PMI' },
                            { value: 'money_supply', label: 'è´§å¸ä¾›åº”é‡' },
                            { value: 'social_financing', label: 'ç¤¾ä¼šèèµ„' },
                            { value: 'lpr', label: 'LPR' }
                        ]
                    },
                    { name: 'force', label: 'å¼ºåˆ¶åŒæ­¥', type: 'checkbox', required: false }
                ]
            },
            'macro-cache-stats': {
                title: 'ç¼“å­˜ç»Ÿè®¡',
                description: 'è·å–å®è§‚æ•°æ®ç¼“å­˜ç»Ÿè®¡ä¿¡æ¯',
                method: 'GET',
                url: '/api/macro/cache/stats',
                params: []
            },
            'macro-clear-cache': {
                title: 'æ¸…é™¤ç¼“å­˜',
                description: 'æ¸…é™¤å®è§‚æ•°æ®ç¼“å­˜',
                method: 'DELETE',
                url: '/api/macro/cache',
                params: [
                    {
                        name: 'indicator', label: 'æŒ‡æ ‡åç§°', type: 'select', required: false, options: [
                            { value: '', label: 'å…¨éƒ¨ç¼“å­˜' },
                            { value: 'gdp', label: 'GDP' },
                            { value: 'cpi', label: 'CPI' },
                            { value: 'ppi', label: 'PPI' },
                            { value: 'pmi', label: 'PMI' },
                            { value: 'money_supply', label: 'è´§å¸ä¾›åº”é‡' },
                            { value: 'social_financing', label: 'ç¤¾ä¼šèèµ„' },
                            { value: 'lpr', label: 'LPR' }
                        ]
                    }
                ]
            }
        };

        let currentAPI = null;

        // åˆ‡æ¢åˆ†ç±»çš„å±•å¼€/æŠ˜å çŠ¶æ€
        function toggleCategory(categoryName) {
            const list = document.getElementById(categoryName + '-apis');
            const icon = event.target.closest('.category-header').querySelector('.collapse-icon');

            if (list.classList.contains('show')) {
                list.classList.remove('show');
                icon.classList.add('collapsed');
            } else {
                list.classList.add('show');
                icon.classList.remove('collapsed');
            }
        }

        // é€‰æ‹©APIæ¥å£
        function selectAPI(apiKey) {
            const config = API_CONFIG[apiKey];
            if (!config) return;

            // æ›´æ–°å½“å‰API
            currentAPI = apiKey;

            // æ›´æ–°é€‰ä¸­çŠ¶æ€
            document.querySelectorAll('.api-item').forEach(item => item.classList.remove('active'));
            event.target.closest('.api-item').classList.add('active');

            // æ›´æ–°æ ‡é¢˜å’Œæè¿°
            document.getElementById('api-title').textContent = config.title;
            document.getElementById('api-description').textContent = config.description;

            // ç”Ÿæˆå‚æ•°è¡¨å•
            generateParamsForm(config);

            // æ¸…ç©ºç»“æœåŒºåŸŸ
            document.getElementById('results-container').innerHTML = `
                <div class="empty-state">
                    <h3>ç­‰å¾…æµ‹è¯•</h3>
                    <p>å¡«å†™å‚æ•°åç‚¹å‡»æµ‹è¯•æŒ‰é’®</p>
                </div>
            `;
        }

        // ç”Ÿæˆå‚æ•°è¡¨å•
        function generateParamsForm(config) {
            const container = document.getElementById('params-container');

            if (config.params.length === 0) {
                container.innerHTML = `
                    <p style="color: #6c757d; margin-bottom: 15px;">æ­¤æ¥å£æ— éœ€å‚æ•°</p>
                    <button class="test-btn" onclick="testCurrentAPI()">æµ‹è¯•æ¥å£</button>
                `;
                return;
            }

            let html = '';
            config.params.forEach(param => {
                html += '<div class="input-group">';
                html += `<label>${param.label}${param.required ? ' *' : ''}:</label>`;

                if (param.type === 'select') {
                    html += `<select id="param-${param.name}">`;
                    param.options.forEach(option => {
                        html += `<option value="${option.value}">${option.label}</option>`;
                    });
                    html += '</select>';
                } else if (param.type === 'checkbox') {
                    html += `<label style="display: flex; align-items: center; margin-top: 5px;">
                        <input type="checkbox" id="param-${param.name}" style="margin-right: 8px;">
                        ${param.label}
                    </label>`;
                } else if (param.type === 'json') {
                    html += `<textarea id="param-${param.name}" placeholder='${param.placeholder || ''}'>${param.value || ''}</textarea>`;
                } else {
                    html += `<input type="${param.type}" id="param-${param.name}" placeholder="${param.placeholder || ''}" value="${param.value || ''}">`;
                }
                html += '</div>';
            });

            html += '<button class="test-btn" onclick="testCurrentAPI()">æµ‹è¯•æ¥å£</button>';
            container.innerHTML = html;
        }

        // æµ‹è¯•å½“å‰API
        async function testCurrentAPI() {
            if (!currentAPI) return;

            const config = API_CONFIG[currentAPI];
            const button = document.querySelector('.test-btn');
            const resultsContainer = document.getElementById('results-container');

            // è·å–å‚æ•°å€¼
            const params = {};
            let hasError = false;

            config.params.forEach(param => {
                const element = document.getElementById(`param-${param.name}`);
                if (!element) return;

                let value;
                if (param.type === 'checkbox') {
                    value = element.checked;
                } else if (param.type === 'json') {
                    try {
                        value = JSON.parse(element.value);
                    } catch (e) {
                        alert(`å‚æ•° "${param.label}" çš„JSONæ ¼å¼ä¸æ­£ç¡®`);
                        hasError = true;
                        return;
                    }
                } else {
                    value = element.value;
                }

                if (param.required && (!value || value === '')) {
                    alert(`è¯·å¡«å†™å¿…å¡«å‚æ•°: ${param.label}`);
                    hasError = true;
                    return;
                }

                if (value !== '' && value !== null && value !== undefined) {
                    params[param.name] = value;
                }
            });

            if (hasError) return;

            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            button.disabled = true;
            button.innerHTML = '<span class="loading"></span>è¯·æ±‚ä¸­...';

            resultsContainer.innerHTML = `
                <div class="response-container">
                    <div class="response-header">æ­£åœ¨è¯·æ±‚...</div>
                    <div class="response-body">ç­‰å¾…æœåŠ¡å™¨å“åº”...</div>
                </div>
            `;

            try {
                let url = `${SERVER_URL}${config.url}`;
                let options = {
                    method: config.method,
                    headers: {
                        'Content-Type': 'application/json'
                    }
                };

                // å¤„ç†å‚æ•°
                if (config.method === 'GET' || config.method === 'DELETE') {
                    if (Object.keys(params).length > 0) {
                        const urlParams = new URLSearchParams();
                        Object.entries(params).forEach(([key, value]) => {
                            if (value !== null && value !== undefined && value !== '') {
                                urlParams.append(key, value);
                            }
                        });
                        if (urlParams.toString()) {
                            url += '?' + urlParams.toString();
                        }
                    }
                } else if (config.method === 'POST') {
                    options.body = JSON.stringify(params);
                }

                const startTime = Date.now();
                const response = await fetch(url, options);
                const endTime = Date.now();
                const duration = endTime - startTime;

                const responseText = await response.text();
                let responseData;

                try {
                    responseData = JSON.parse(responseText);
                } catch {
                    responseData = responseText;
                }

                // æ˜¾ç¤ºå“åº”
                const statusClass = response.ok ? 'status-success' : 'status-error';

                // ç”Ÿæˆåˆ†ç¦»æ˜¾ç¤ºçš„HTML
                let responseHtml = '';

                // HTTPçŠ¶æ€ä¿¡æ¯
                responseHtml += `
                    <div class="response-container">
                        <div class="response-header">
                            <span class="${statusClass}">
                                ${response.status} ${response.statusText}
                            </span>
                            <span style="float: right;">${duration}ms</span>
                        </div>
                    </div>
                `;

                // æ˜¾ç¤ºè¯·æ±‚URL
                responseHtml += `
                    <div class="response-section">
                        <h4>è¯·æ±‚URL</h4>
                        <div class="response-content url">
                            ${config.method} ${url}
                        </div>
                    </div>
                `;

                // å¦‚æœå“åº”æ˜¯JSONå¯¹è±¡ä¸”åŒ…å«æ ‡å‡†ç»“æ„ï¼Œåˆ™åˆ†ç¦»æ˜¾ç¤º
                if (typeof responseData === 'object' && responseData !== null) {
                    // æ˜¾ç¤ºStatus
                    if (responseData.status !== undefined) {
                        const statusBadgeClass = responseData.status === 'success' ? 'success' : 'error';
                        responseHtml += `
                            <div class="response-section">
                                <h4>Status</h4>
                                <div class="response-content">
                                    <span class="status-badge ${statusBadgeClass}">${responseData.status}</span>
                                </div>
                            </div>
                        `;
                    }

                    // æ˜¾ç¤ºMessage
                    if (responseData.message !== undefined) {
                        responseHtml += `
                            <div class="response-section">
                                <h4>Message</h4>
                                <div class="response-content">
                                    ${responseData.message}
                                </div>
                            </div>
                        `;
                    }

                    // æ˜¾ç¤ºData
                    if (responseData.data !== undefined) {
                        responseHtml += `
                            <div class="response-section">
                                <h4>Data</h4>
                        `;

                        // æ£€æŸ¥dataæ˜¯å¦ä¸ºMarkdownå­—ç¬¦ä¸²
                        if (typeof responseData.data === 'string' &&
                            (responseData.data.includes('#') || responseData.data.includes('**') ||
                                responseData.data.includes('##') || responseData.data.includes('###'))) {
                            // ä½¿ç”¨marked.jsæ¸²æŸ“Markdown
                            const markdownHtml = marked.parse(responseData.data);
                            responseHtml += `
                                <div class="response-content markdown">
                                    <div class="markdown-content">${markdownHtml}</div>
                                </div>
                            `;
                        } else {
                            // æ˜¾ç¤ºä¸ºJSON
                            const dataStr = typeof responseData.data === 'object'
                                ? JSON.stringify(responseData.data, null, 2)
                                : String(responseData.data);
                            responseHtml += `
                                <div class="response-content json">
                                    ${dataStr}
                                </div>
                            `;
                        }

                        responseHtml += `</div>`;
                    }

                    // å¦‚æœæœ‰å…¶ä»–å­—æ®µï¼Œæ˜¾ç¤ºå®Œæ•´å“åº”
                    const standardFields = ['status', 'message', 'data'];
                    const otherFields = Object.keys(responseData).filter(key => !standardFields.includes(key));

                    if (otherFields.length > 0) {
                        const otherData = {};
                        otherFields.forEach(key => {
                            otherData[key] = responseData[key];
                        });

                        responseHtml += `
                            <div class="response-section">
                                <h4>å…¶ä»–å­—æ®µ</h4>
                                <div class="response-content json">
                                    ${JSON.stringify(otherData, null, 2)}
                                </div>
                            </div>
                        `;
                    }
                } else {
                    // éæ ‡å‡†æ ¼å¼ï¼Œæ˜¾ç¤ºåŸå§‹å“åº”
                    const formattedResponse = typeof responseData === 'object'
                        ? JSON.stringify(responseData, null, 2)
                        : String(responseData);

                    responseHtml += `
                        <div class="response-section">
                            <h4>å“åº”å†…å®¹</h4>
                            <div class="response-content json">
                                ${formattedResponse}
                            </div>
                        </div>
                    `;
                }

                resultsContainer.innerHTML = responseHtml;

            } catch (error) {
                resultsContainer.innerHTML = `
                    <div class="response-container">
                        <div class="response-header">
                            <span class="status-error">è¯·æ±‚å¤±è´¥</span>
                        </div>
                    </div>
                    <div class="response-section">
                        <h4>é”™è¯¯ä¿¡æ¯</h4>
                        <div class="response-content">
                            <span class="status-badge error">ERROR</span>
                            <p style="margin-top: 10px;">é”™è¯¯: ${error.message}</p>
                        </div>
                    </div>
                `;
            } finally {
                // æ¢å¤æŒ‰é’®çŠ¶æ€
                button.disabled = false;
                button.innerHTML = 'æµ‹è¯•æ¥å£';
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function () {
            console.log('APIæµ‹è¯•å·¥å…·å·²åŠ è½½ï¼ŒæœåŠ¡å™¨åœ°å€:', SERVER_URL);

            // é»˜è®¤é€‰æ‹©ç¬¬ä¸€ä¸ªAPI
            selectAPI('stock-quote');
        });
    </script>
</body>

</html>